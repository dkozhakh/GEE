/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var imageCollection = ee.ImageCollection("LANDSAT_COPY/LC8_L1T"),
    BU = /* color: #d63000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.6949325799942, 10.755412265087854],
                  [106.69529736042023, 10.755370103644207],
                  [106.69534027576447, 10.755612531864614],
                  [106.69494330883026, 10.755612531864614]]]),
            {
              "landcover": 1,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.6951471567154, 10.754384578220503],
                  [106.69541001319885, 10.75460065626278],
                  [106.69512033462524, 10.754927408130287],
                  [106.69486820697784, 10.754790383196688]]]),
            {
              "landcover": 1,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69198215007782, 10.755812798508401],
                  [106.6922128200531, 10.755517668671141],
                  [106.69273853302002, 10.755844419545271],
                  [106.69249176979065, 10.756144819230162]]]),
            {
              "landcover": 1,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69354319572449, 10.756750887859068],
                  [106.69374167919159, 10.756413597641968],
                  [106.69401526451111, 10.756524271036032],
                  [106.69380068778992, 10.75684048050958]]]),
            {
              "landcover": 1,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69208943843842, 10.757246282181539],
                  [106.69222354888916, 10.756993314969616],
                  [106.69267416000366, 10.757283173215551],
                  [106.69247567653656, 10.757515059611725]]]),
            {
              "landcover": 1,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69650971889496, 10.75828976968779],
                  [106.69663846492767, 10.75816328654601],
                  [106.6968959569931, 10.758300309947204],
                  [106.69676184654236, 10.758437333286148]]]),
            {
              "landcover": 1,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69771671295166, 10.75883786268911],
                  [106.69780254364014, 10.758663948671586],
                  [106.69799029827118, 10.758758810875397],
                  [106.69788837432861, 10.758953805311727]]]),
            {
              "landcover": 1,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69759333133698, 10.759791752940602],
                  [106.69766306877136, 10.759739051900498],
                  [106.69803321361542, 10.759986746708911],
                  [106.69795274734497, 10.76007106829939]]]),
            {
              "landcover": 1,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69847846031189, 10.760677129037049],
                  [106.69864475727081, 10.760413624518206],
                  [106.69883251190186, 10.760540106715995],
                  [106.69859647750854, 10.760771990607457]]]),
            {
              "landcover": 1,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.70008778572083, 10.76180492577531],
                  [106.70025944709778, 10.761599393039274],
                  [106.70071542263031, 10.761857626454281],
                  [106.70051157474518, 10.762115859648077]]]),
            {
              "landcover": 1,
              "system:index": "9"
            })]),
    NBU = /* color: #98ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69766843318939, 10.755238349094888],
                  [106.69779449701309, 10.755338482557617],
                  [106.6977247595787, 10.755404359817614],
                  [106.69758528470993, 10.755335847466919]]]),
            {
              "landcover": 0,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69326424598694, 10.754184310628464],
                  [106.69343590736389, 10.753968232287964],
                  [106.693634390831, 10.754136878810883],
                  [106.69343054294586, 10.7543107954389]]]),
            {
              "landcover": 0,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.68745458126068, 10.75385228774876],
                  [106.68754577636719, 10.753720532536486],
                  [106.68797492980957, 10.754005123722905],
                  [106.68784081935883, 10.754189580829962]]]),
            {
              "landcover": 0,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69091463088989, 10.752376626084578],
                  [106.69093072414398, 10.752012979780298],
                  [106.69125258922577, 10.752160546449366],
                  [106.69108092784882, 10.75240297724901]]]),
            {
              "landcover": 0,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.6899973154068, 10.73948009013861],
                  [106.69006168842316, 10.73929035358188],
                  [106.69062495231628, 10.739443196928576],
                  [106.69053912162781, 10.739590769741662]]]),
            {
              "landcover": 0,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69007778167725, 10.740096733124943],
                  [106.69011533260345, 10.739959701458979],
                  [106.69071078300476, 10.74008092178204],
                  [106.69063568115234, 10.740281198730953]]]),
            {
              "landcover": 0,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69312477111816, 10.739727801574977],
                  [106.69329106807709, 10.739469549221917],
                  [106.69360220432281, 10.739733072028871],
                  [106.69339299201965, 10.739849021991102]]]),
            {
              "landcover": 0,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69415473937988, 10.732225217257152],
                  [106.69431835412979, 10.732067099672236],
                  [106.69447660446167, 10.732235758426548],
                  [106.69421374797821, 10.732312181893608]]]),
            {
              "landcover": 0,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.6953992843628, 10.732973639370236],
                  [106.69535368680954, 10.732802345740268],
                  [106.69545292854309, 10.732765451714956],
                  [106.69555753469467, 10.732957827654607]]]),
            {
              "landcover": 0,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[106.69766306877136, 10.732802345740268],
                  [106.69764161109924, 10.73249665225176],
                  [106.69800639152527, 10.73249665225176],
                  [106.69798493385315, 10.732855051482899]]]),
            {
              "landcover": 0,
              "system:index": "9"
            })]);
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var l8 = ee.ImageCollection('LANDSAT/LC08/C01/T1');
var l8filtered = l8.filterDate('2016-01-01', '2016-12-31');

var l8_Composite = ee.Algorithms.Landsat.simpleComposite({
  collection: l8filtered,
  asFloat: true
});

Map.addLayer(l8_Composite,{'bands':['B4', 'B3', 'B2']});

var landcover = BU.merge(NBU);
print(landcover);

var bands = ['B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B10', 'B11'];

var training = l8_Composite.select(bands).sampleRegions({
  collection: landcover,
  properties:['landcover'],
  scale: 30
});

var classifier = ee.Classifier.randomForest({
  numberOfTrees: 20
}).train({
  features: training,
  classProperty: 'landcover', //what we want to predict//
  inputProperties: bands
});

var classified = l8_Composite.select(bands).classify(classifier);

Map.addLayer(classified.mask(classified), {palette:['ff0000']});